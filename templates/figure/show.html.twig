{% extends 'base.html.twig' %}

{% block title %}Figure{% endblock %}

{% block body %}
    <h1>Figure</h1>

    <table class="table">
        <tbody>

        <tr>
            <th>Name</th>
            <td>{{ figure.name }}</td>
        </tr>
        <tr>
            <th>Description</th>
            <td>{{ figure.description }}</td>
        </tr>
        <tr>
            <th>Category</th>
            <td>{{ figure.category.value }}</td>
        </tr>

        </tbody>
    </table>

    <a href="{{ path('app_figure_index') }}">back to list</a>
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}

        <a href="{{ path('app_figure_edit', {'slug': figure.slug}) }}">edit</a>

        {{ include('figure/_delete_form.html.twig') }}
    {% endif %}

    <div >
        {% if is_granted('IS_AUTHENTICATED_REMEMBERED') %}
            <h3>Discutez de cette figure!</h3>
            {{ include('message/_create_form.html.twig') }}

        {% endif %}
        {% for message in figure.messages %}
        <tr>
            <th>message.user.username</th>
            <td>message.content</td>
            <td>message.createdAt</td>
        </tr>
        {% endfor %}
    </div>
{% endblock %}
